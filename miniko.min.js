// miniko.js 1.0
// https://github.com/nikopol/miniko.js
(function(n){function e(a,c){var b;"object"==typeof a?b=a:a.length&&("#"==a[0]&&!/[ ,\.\>\<]/.test(a)?b=g.getElementById(a.substr(1)):/^<.+>$/.test(a)?((b=g.createElement("div")).innerHTML=a,b=[].slice.call(b.childNodes),b=b.length?1<b.length?b:b[0]:void 0):b=Array.prototype.slice.call(g.querySelectorAll(a),0));b&&void 0!=c&&k(b).forEach(function(a){a.innerHTML=c});return b}function k(a){return null===a?[]:a instanceof Array?a:[a]}var g=n.document;e.append=function(a,c){var b=e(a);void 0==c||k(b).forEach(function(a){var b;
"TBODY"==a.tagName?(b=e("<table>",c),b=b.children[0].childNodes):(b=e("<div>",c),b=b.childNodes);for(;b.length;)a.appendChild(b[0])});return b};e.e=function(a,c){var b=e(a),f,m,g,d=/([\+\-\*])([^\+\-\*\s]+)/g;if(void 0!=c)if("object"==typeof c)k(b).forEach(function(a){for(f in c)a.style[f]=c[f]});else if(/^[\+\-\*]/.test(c))for(;null!==(f=d.exec(c));)m=f[1],g=f[2],k(b).forEach(function(a){var b=a.className.split(/\s+/).filter(function(a){return a});"-"!=m&&-1==b.indexOf(g)?b.push(g):"+"!=m&&(b=b.filter(function(a){return a!=
g}));a.className=b.join(" ")});else"?"==c[0]?(f=0,c=c.substr(1),k(b).forEach(function(a){f+=a.className.split(" ").filter(function(a){return a==c}).length}),b=f):k(b).forEach(function(a){a.className=c});return b};e.c=function(a,c){"string"==typeof a&&(a={url:a,a:c});var b=a.type||"GET",f=a.url||"",e=a.d||"application/x-www-form-urlencoded",g=a.f||"application/json",d=new window.XMLHttpRequest,k,h,l;if(a.data){if("string"==typeof a.data)h=a.data;else if(/json/.test(e))h=JSON.stringify(a.data);else{h=
[];for(l in a.data)h.push(encodeURIComponent(l)+"="+encodeURIComponent(a.data[l]));h=h.join("&")}/GET|DEL/i.test(b)&&(f+=/\?/.test(f)?"&"+h:"?"+h,h="")}a.error=a.error||function(a,b){console.error(a,b)};a.a=a.a||function(){};d.onreadystatechange=function(){if(4==d.readyState)if(k&&clearTimeout(k),/^2/.test(d.status)){h=d.responseText;if(/json/.test(g))try{h=JSON.parse(d.responseText)}catch(b){return a.error("json parse error: "+b.message,d)}a.a(h,d)}else a.error(d.responseText,d)};d.open(b,f,!0);
d.setRequestHeader("Content-Type",e);if(a.headers)for(l in a.headers)d.setRequestHeader(l,a.headers[l]);a.timeout&&(k=setTimeout(function(){d.onreadystatechange=function(){};d.abort();a.error&&a.error("timeout",d)},1E3*a.timeout));d.send(h);return d};e.i=function(a){return(a=e(a))?(a=a.getBoundingClientRect(),{left:a.left+window.pageXOffset,top:a.top+window.pageYOffset,width:a.width,height:a.height}):!1};e.j=function(a){/complete|loaded|interactive/.test(g.readyState)?a():g.attachEvent?g.attachEvent("ondocumentready",
a):g.addEventListener("DOMContentLoaded",a,!1)};e.h=function(a,c,b,f){k(e(a)).forEach(function(a){a.addEventListener(c,b,f)})};e.g=function(a,c,b){k(e(a)).forEach(function(a){a.removeEventListener(c,b)})};n.b=e})(window);
